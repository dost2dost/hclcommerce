{"ast":null,"code":"var _jsxFileName = \"C:\\\\HCL_Internal\\\\src\\\\component\\\\NewAccount.js\";\nimport React, { Component } from 'react';\nimport './NewAccount.css';\nimport { connect } from 'react-redux';\nimport { MainActions } from '../ReduxActions/MainActions';\nimport { Redirect } from 'react-router-dom';\n\nclass NewAccount extends Component {\n  constructor(props) {\n    super(props);\n\n    this.submitForm = e => {\n      if (this.state.firstName == '') {\n        this._handleFirstName.focus();\n\n        return false;\n      }\n\n      if (this.state.lastName == '') {\n        this._handleLastName.focus();\n\n        return false;\n      }\n\n      if (this.state.email == '') {\n        this._handleEmail.focus();\n\n        return false;\n      }\n\n      if (this.state.password == '') {\n        this._handlePassword.focus();\n\n        return false;\n      }\n\n      if (this.state.confirmPassword == '') {\n        this._handleConfirmPassword.focus();\n\n        return false;\n      }\n\n      if (this.state.confirmPassword !== this.state.password) {\n        alert('Password and Confirm Password not same');\n\n        this._handleConfirmPassword.focus();\n\n        return false;\n      }\n\n      this.goForRegistration();\n    };\n\n    this.goForRegistration = () => {\n      const payloads = {\n        logonPassword: this.state.password,\n        //\"zarak786@gmail.com\", //zarak786@gmail.com karim.zarak@royalcyber.com\n        profileType: 'C',\n        logonPasswordVerify: this.state.confirmPassword,\n        //\"Revert!23d\"\n        logonId: this.state.email\n      };\n      fetch('https://192.168.7.167/wcs/resources/store/11901/person', {\n        method: 'POST',\n        headers: {\n          'accept': 'application/json',\n          'Content-type': 'application/json'\n        },\n        body: JSON.stringify(payloads)\n      }).then(res => res.json()).then(data => {\n        if (data.errors != undefined) {\n          //API results with an error message \n          console.log(data);\n          this.setState({\n            isAuthenticated: false,\n            errorMsg: data.errors[0].errorMessage\n          });\n          console.log(this.state.errorMsg);\n        } else if (data.WCToken != undefined) {\n          //Successfully Loged In\n          console.log('success');\n          console.log(data);\n          this.setState({\n            isAuthenticated: true,\n            Token: data.WCToken,\n            errorMsg: ''\n          }); //below addin data into Redux-Reducer\n\n          this.props.registerUser(this.state.userName, data.braintreeToken, data.WCToken, data.userId, data.WCTrustedToken, data.personalizationID);\n          return React.createElement(Redirect, {\n            to: \"/\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78\n            },\n            __self: this\n          }); //this.props.loginUser(this.state.userName, data.braintreeToken, data.WCToken, data.userId,  data.WCTrustedToken, data.personalizationID);\n          // this.props.changeToken(data.WCToken);\n        } else {\n          // API results \n          console.log('Else Statement');\n          this.setState({\n            isAuthenticated: false,\n            errorMsg: 'Error while loging'\n          });\n        }\n      }, error => {\n        //API not accessable or through error            \n        this.setState({\n          isAuthenticated: false,\n          errorMsg: 'Either your user name or password is wrong'\n        });\n        console.log(this.state.isAuthenticated + \"Error Data>>\" + error);\n      });\n    };\n\n    this.handleEachItem = event => {\n      //this.setState ({userName = this.state.});\n      //this.setState({ userName : event.target.value});\n      //console.log(event.target.value);\n      this.setState({\n        [event.target.name]: event.target.value\n      }); //alert(this.state.email);\n    };\n\n    this.state = {\n      firstName: '',\n      lastName: '',\n      email: '',\n      newsCheck: '',\n      password: '',\n      confirmPassword: '',\n      errorMsg: '',\n      isAuthenticated: false\n    }; //this._handleFirstName = this._handleFirstName.bind(this);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"checkoutPage newAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Create New Customer Account\"), React.createElement(\"div\", {\n      className: \"clearBoth\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"items\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"newAccountH2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Personal Information\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"First Name \"), React.createElement(\"span\", {\n      className: \"starik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"firstName\",\n      ref: input => {\n        this._handleFirstName = input;\n      },\n      onChange: this.handleEachItem,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Last Name \"), React.createElement(\"span\", {\n      className: \"starik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"lastName\",\n      ref: input => {\n        this._handleLastName = input;\n      },\n      onChange: this.handleEachItem,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"getInput checkBox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"checkBoxSize\",\n      onChange: this.handleEachItem,\n      name: \"newsCheck\",\n      type: \"checkbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Sign Up for Newsletter\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      className: \"newAccountH2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Personal Information\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Email \"), React.createElement(\"span\", {\n      className: \"starik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"email\",\n      ref: input => {\n        this._handleEmail = input;\n      },\n      onChange: this.handleEachItem,\n      type: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"Password \"), React.createElement(\"span\", {\n      className: \"starik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"password\",\n      ref: input => {\n        this._handlePassword = input;\n      },\n      onChange: this.handleEachItem,\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"lableInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Confirm Password \"), React.createElement(\"span\", {\n      className: \"starik\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"*\")), React.createElement(\"div\", {\n      className: \"getInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      name: \"confirmPassword\",\n      ref: input => {\n        this._handleConfirmPassword = input;\n      },\n      onChange: this.handleEachItem,\n      type: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, this.state.errorMsg)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"nextBtn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      onClick: this.submitForm,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Create an Account \")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    registerUser: (email, braintreeToken, tokn, userId, WCTrustedToken, personalizationID) => {\n      dispatch(MainActions(email, braintreeToken, tokn, userId, WCTrustedToken, personalizationID));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(NewAccount);","map":{"version":3,"sources":["C:/HCL_Internal/src/component/NewAccount.js"],"names":["React","Component","connect","MainActions","Redirect","NewAccount","constructor","props","submitForm","e","state","firstName","_handleFirstName","focus","lastName","_handleLastName","email","_handleEmail","password","_handlePassword","confirmPassword","_handleConfirmPassword","alert","goForRegistration","payloads","logonPassword","profileType","logonPasswordVerify","logonId","fetch","method","headers","body","JSON","stringify","then","res","json","data","errors","undefined","console","log","setState","isAuthenticated","errorMsg","errorMessage","WCToken","Token","registerUser","userName","braintreeToken","userId","WCTrustedToken","personalizationID","error","handleEachItem","event","target","name","value","newsCheck","render","input","mapDispatchToProps","dispatch","tokn"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './NewAccount.css';\r\nimport { connect } from 'react-redux';\r\nimport {MainActions} from '../ReduxActions/MainActions';\r\nimport { Redirect } from 'react-router-dom';\r\nclass NewAccount extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {firstName : '', lastName: '',  email: '', newsCheck: '', password : '', confirmPassword: '', errorMsg: '', isAuthenticated: false};\r\n        //this._handleFirstName = this._handleFirstName.bind(this);\r\n    }\r\n   \r\n    submitForm = (e) => {\r\n        if(this.state.firstName == ''){\r\n            this._handleFirstName.focus();\r\n            return false;\r\n        }\r\n        if(this.state.lastName == ''){\r\n            this._handleLastName.focus();\r\n            return false;\r\n        }\r\n        if(this.state.email == ''){\r\n            this._handleEmail.focus();\r\n            return false;\r\n        }\r\n        if(this.state.password == ''){\r\n            this._handlePassword.focus();\r\n            return false;\r\n        }\r\n        if(this.state.confirmPassword == ''){\r\n            this._handleConfirmPassword.focus();\r\n            return false;\r\n        }\r\n        if(this.state.confirmPassword !== this.state.password){\r\n            alert('Password and Confirm Password not same');\r\n            this._handleConfirmPassword.focus();\r\n            return false;\r\n        }\r\n        this.goForRegistration();\r\n    }\r\n    goForRegistration = () => {\r\n        const payloads = {\r\n            logonPassword: this.state.password, //\"zarak786@gmail.com\", //zarak786@gmail.com karim.zarak@royalcyber.com\r\n            profileType : 'C',\r\n            logonPasswordVerify: this.state.confirmPassword, //\"Revert!23d\"\r\n            logonId: this.state.email \r\n        }\r\n        fetch('https://192.168.7.167/wcs/resources/store/11901/person',{\r\n            method: 'POST',\r\n            headers: {\r\n                'accept': 'application/json',\r\n                'Content-type': 'application/json'\r\n            },\r\n            body: JSON.stringify(payloads)\r\n        })\r\n        .then(res=>res.json())\r\n        .then((data)=>{\r\n            if(data.errors != undefined){//API results with an error message \r\n                console.log(data);\r\n                this.setState({\r\n                    isAuthenticated: false, \r\n                    errorMsg: data.errors[0].errorMessage\r\n                });\r\n                console.log(this.state.errorMsg)\r\n            }\r\n            else if( data.WCToken != undefined){ //Successfully Loged In\r\n                console.log('success');\r\n                console.log(data);\r\n                this.setState({\r\n                    isAuthenticated: true,\r\n                    Token: data.WCToken, \r\n                    errorMsg : ''\r\n                });\r\n                //below addin data into Redux-Reducer\r\n                this.props.registerUser(\r\n                    this.state.userName, data.braintreeToken, data.WCToken, data.userId,  data.WCTrustedToken, data.personalizationID\r\n                )\r\n                return <Redirect to=\"/\"/>\r\n                //this.props.loginUser(this.state.userName, data.braintreeToken, data.WCToken, data.userId,  data.WCTrustedToken, data.personalizationID);\r\n                // this.props.changeToken(data.WCToken);\r\n            }\r\n            else{ // API results \r\n                console.log('Else Statement');\r\n                this.setState({\r\n                    isAuthenticated: false,\r\n                    errorMsg: 'Error while loging'\r\n                });\r\n            }\r\n        },\r\n        (error) => {//API not accessable or through error            \r\n            this.setState({\r\n                isAuthenticated: false,\r\n                errorMsg: 'Either your user name or password is wrong'\r\n            });\r\n            console.log(this.state.isAuthenticated+\"Error Data>>\"+error);\r\n        });     \r\n    }\r\n    handleEachItem = (event) => {\r\n       \r\n        //this.setState ({userName = this.state.});\r\n        //this.setState({ userName : event.target.value});\r\n        //console.log(event.target.value);\r\n      this.setState({ [event.target.name] : event.target.value}); \r\n\r\n      //alert(this.state.email);\r\n    }\r\n    render(){\r\n        \r\n        return(\r\n            <div className=\"checkoutPage newAccount\">\r\n                <h3>Create New Customer Account</h3>\r\n                <div className=\"clearBoth\"></div>\r\n                <div className=\"items\">\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <h2 className=\"newAccountH2\">Personal Information</h2>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                           \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <span>First Name </span><span className=\"starik\">*</span>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                            <input name=\"firstName\" ref={(input) => {this._handleFirstName = input;}} onChange={this.handleEachItem} type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <span>Last Name </span><span className=\"starik\">*</span>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                            <input name=\"lastName\" ref={(input) => {this._handleLastName = input;}} onChange={this.handleEachItem} type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            \r\n                        </div>\r\n                        <div className=\"getInput checkBox\">\r\n                            <input className=\"checkBoxSize\"  onChange={this.handleEachItem}  name=\"newsCheck\" type=\"checkbox\" /><span>Sign Up for Newsletter</span>\r\n                        </div>\r\n                    </div>\r\n                    <br/><br/>\r\n\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <h2 className=\"newAccountH2\">Personal Information</h2>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                           \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <span>Email </span><span className=\"starik\">*</span>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                            <input name=\"email\" ref={(input) => {this._handleEmail = input;}} onChange={this.handleEachItem} type=\"text\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <span>Password </span><span className=\"starik\">*</span>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                             <input  name=\"password\" ref={(input) => {this._handlePassword = input;}} onChange={this.handleEachItem} type=\"password\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"lableInput\">\r\n                        <div className=\"lable\">\r\n                            <span>Confirm Password </span><span className=\"starik\">*</span>\r\n                        </div>\r\n                        <div className=\"getInput\">\r\n                        <input name=\"confirmPassword\" ref={(input) => {this._handleConfirmPassword = input;}} onChange={this.handleEachItem} type=\"password\" />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <span className=\"errorMessage\">{this.state.errorMsg}</span>\r\n                    </div><br/><br/>\r\n                    <div className=\"nextBtn\"><a onClick={this.submitForm}>Create an Account </a></div>\r\n                    <br/><br/><br/>\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return{\r\n        registerUser: ( email, braintreeToken, tokn, userId, WCTrustedToken, personalizationID ) => {\r\n            dispatch(MainActions(email, braintreeToken, tokn, userId, WCTrustedToken, personalizationID))\r\n        }\r\n    }\r\n}\r\nexport default connect(null, mapDispatchToProps)(NewAccount);"]},"metadata":{},"sourceType":"module"}