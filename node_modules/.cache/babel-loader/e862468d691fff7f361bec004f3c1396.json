{"ast":null,"code":"var _jsxFileName = \"F:\\\\_HCLCommece\\\\src\\\\component\\\\FiltersPage.js\";\nimport React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\nimport './category.css';\nimport Skeleton from '../Skeleton/Skeleton';\n\nclass FiltersPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getDataFromServer = getC => {\n      let getLoc = this.props.callCat.subSrch.indexOf(\"Filter\") + 7;\n      let getSrch = this.props.callCat.subSrch.substring(getLoc);\n      let getCate = this.props.callCat.subSrch.substring(1, 6);\n      this.setState({\n        loaderActive: '<div><img width=\"300\" height=\"200\" src=\"/Images/loader.gif\"/></div>'\n      });\n      let getUrl = `http://192.168.17.91:3737/search/resources/store/1/productview/byCategory/${getCate}?facet=${getSrch}`;\n      console.log(getUrl); //`url2: 'http://192.168.17.91:3737/search/resources/store/1/productview/byCategory/10015?facet=Mayflower'`  \n\n      fetch(getUrl).then(res => res.json()).then(json => {\n        this.setState({\n          isLoaded: true,\n          items: json,\n          loaderActive: false\n        });\n      }).catch(e => console.log(e));\n      this.setState({\n        loaderActive: ''\n      });\n    };\n\n    this.state = {\n      items: [],\n      isLoaded: false,\n      categoryCalled: '',\n      loaderActive: true,\n      subCat: ''\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps !== this.props) {\n      this.getDataFromServer(this.props.callCat);\n    }\n  }\n\n  componentDidMount(props) {\n    this.setState({\n      categoryCalled: this.props.callCat.categoryCall\n    });\n    this.getDataFromServer(this.props.callCat.categoryCall);\n  }\n\n  render() {\n    var _this$state = this.state,\n        isLoaded = _this$state.isLoaded,\n        items = _this$state.items;\n    console.log('getItems below');\n    console.log(this.state.items);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, [items].map((item, index) => React.createElement(\"div\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, item.catalogEntryView ? item.catalogEntryView.map(insideItems => React.createElement(\"div\", {\n      className: \"product\",\n      key: insideItems.uniqueID,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: `/Product/?${insideItems.uniqueID}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: insideItems.name,\n      src: `https://192.168.17.91:8443${insideItems.thumbnail}`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"person\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, insideItems.name), React.createElement(\"div\", {\n      className: \"price\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, \"$ \", insideItems.price[0].value), React.createElement(\"div\", {\n      className: \"addToCart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }))) : null)));\n  }\n\n}\n\nexport default FiltersPage;","map":{"version":3,"sources":["F:/_HCLCommece/src/component/FiltersPage.js"],"names":["React","Component","BrowserRouter","Router","Route","Link","Skeleton","FiltersPage","constructor","props","getDataFromServer","getC","getLoc","callCat","subSrch","indexOf","getSrch","substring","getCate","setState","loaderActive","getUrl","console","log","fetch","then","res","json","isLoaded","items","catch","e","state","categoryCalled","subCat","componentDidUpdate","prevProps","prevState","snapshot","componentDidMount","categoryCall","render","map","item","index","catalogEntryView","insideItems","uniqueID","name","thumbnail","price","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport {BrowserRouter as Router, Route, Link} from 'react-router-dom'; \r\nimport './category.css';\r\nimport Skeleton from '../Skeleton/Skeleton'\r\n\r\nclass FiltersPage extends Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state ={\r\n            items: [],\r\n            isLoaded: false,\r\n            categoryCalled: '', \r\n            loaderActive: true,\r\n            subCat: ''\r\n        }\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot){ \r\n        if(prevProps !== this.props){\r\n             \r\n            this.getDataFromServer(this.props.callCat)\r\n        }\r\n         \r\n    }\r\n    componentDidMount(props){\r\n        this.setState({\r\n            categoryCalled: this.props.callCat.categoryCall\r\n        })  \r\n        this.getDataFromServer(this.props.callCat.categoryCall);  \r\n    } \r\n    getDataFromServer = (getC) => { \r\n        let getLoc = this.props.callCat.subSrch.indexOf(\"Filter\")+7\r\n        let getSrch = this.props.callCat.subSrch.substring(getLoc)\r\n        let getCate = this.props.callCat.subSrch.substring(1,6)\r\n    \r\n        this.setState({loaderActive:'<div><img width=\"300\" height=\"200\" src=\"/Images/loader.gif\"/></div>'}) \r\n        let getUrl = `http://192.168.17.91:3737/search/resources/store/1/productview/byCategory/${getCate}?facet=${getSrch}`\r\n        console.log(getUrl)\r\n        //`url2: 'http://192.168.17.91:3737/search/resources/store/1/productview/byCategory/10015?facet=Mayflower'`  \r\n        fetch(getUrl) \r\n        .then(res => res.json(\r\n            \r\n        ))\r\n        .then(json => {\r\n            \r\n            this.setState({\r\n                isLoaded: true,\r\n                items: json,\r\n                loaderActive: false \r\n            })\r\n            \r\n        }).catch(e => console.log(e));\r\n        this.setState({loaderActive:''}) \r\n        \r\n    } \r\n    render(){\r\n        var { isLoaded, items } = this.state; \r\n        console.log('getItems below')\r\n            console.log(this.state.items)      \r\n        return(\r\n            <div>\r\n              {[items].map((item, index) => (\r\n                        <div key={index}> \r\n                            {item.catalogEntryView ? item.catalogEntryView.map(insideItems => (\r\n                                <div className=\"product\" key={insideItems.uniqueID}>\r\n                                <div className=\"name\">\r\n                                <Link to={`/Product/?${insideItems.uniqueID}`}>\r\n                                    <div className=\"name\"><img alt = {insideItems.name} src={`https://192.168.17.91:8443${insideItems.thumbnail}`} /></div>\r\n                                </Link>\r\n                                </div>\r\n                                <div className=\"person\">{insideItems.name}</div> \r\n                                <div className=\"price\">$ {insideItems.price[0].value}</div>\r\n                                <div className=\"addToCart\">\r\n                                    \r\n                                </div>\r\n\r\n                            </div>\r\n                            )): null} \r\n                        </div>\r\n                    ))}\r\n            </div>             \r\n        )\r\n    }\r\n}\r\nexport default FiltersPage "]},"metadata":{},"sourceType":"module"}