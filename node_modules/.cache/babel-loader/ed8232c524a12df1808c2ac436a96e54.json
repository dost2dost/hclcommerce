{"ast":null,"code":"/**\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n *\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\nTHREE.DeviceOrientationControls = function (object) {\n  var scope = this;\n  this.object = object;\n  this.object.rotation.reorder('YXZ');\n  this.enabled = true;\n  this.deviceOrientation = {};\n  this.screenOrientation = 0;\n  this.alphaOffset = 0; // radians\n\n  var onDeviceOrientationChangeEvent = function (event) {\n    scope.deviceOrientation = event;\n  };\n\n  var onScreenOrientationChangeEvent = function () {\n    scope.screenOrientation = window.orientation || 0;\n  }; // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n\n  var setObjectQuaternion = function () {\n    var zee = new THREE.Vector3(0, 0, 1);\n    var euler = new THREE.Euler();\n    var q0 = new THREE.Quaternion();\n    var q1 = new THREE.Quaternion(-Math.sqrt(0.5), 0, 0, Math.sqrt(0.5)); // - PI/2 around the x-axis\n\n    return function (quaternion, alpha, beta, gamma, orient) {\n      euler.set(beta, alpha, -gamma, 'YXZ'); // 'ZXY' for the device, but 'YXZ' for us\n\n      quaternion.setFromEuler(euler); // orient the device\n\n      quaternion.multiply(q1); // camera looks out the back of the device, not the top\n\n      quaternion.multiply(q0.setFromAxisAngle(zee, -orient)); // adjust for screen orientation\n    };\n  }();\n\n  this.connect = function () {\n    onScreenOrientationChangeEvent();\n    window.addEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n    window.addEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n    scope.enabled = true;\n  };\n\n  this.disconnect = function () {\n    window.removeEventListener('orientationchange', onScreenOrientationChangeEvent, false);\n    window.removeEventListener('deviceorientation', onDeviceOrientationChangeEvent, false);\n    scope.enabled = false;\n  };\n\n  this.update = function () {\n    if (scope.enabled === false) return;\n    var device = scope.deviceOrientation;\n\n    if (device) {\n      var alpha = device.alpha ? THREE.Math.degToRad(device.alpha) + scope.alphaOffset : 0; // Z\n\n      var beta = device.beta ? THREE.Math.degToRad(device.beta) : 0; // X'\n\n      var gamma = device.gamma ? THREE.Math.degToRad(device.gamma) : 0; // Y''\n\n      var orient = scope.screenOrientation ? THREE.Math.degToRad(scope.screenOrientation) : 0; // O\n\n      setObjectQuaternion(scope.object.quaternion, alpha, beta, gamma, orient);\n    }\n  };\n\n  this.dispose = function () {\n    scope.disconnect();\n  };\n\n  this.connect();\n};","map":{"version":3,"sources":["C:/Users/Hannuri/Desktop/RoyalCyber/my-first-app/node_modules/aframe/vendor/DeviceOrientationControls.js"],"names":["THREE","DeviceOrientationControls","object","scope","rotation","reorder","enabled","deviceOrientation","screenOrientation","alphaOffset","onDeviceOrientationChangeEvent","event","onScreenOrientationChangeEvent","window","orientation","setObjectQuaternion","zee","Vector3","euler","Euler","q0","Quaternion","q1","Math","sqrt","quaternion","alpha","beta","gamma","orient","set","setFromEuler","multiply","setFromAxisAngle","connect","addEventListener","disconnect","removeEventListener","update","device","degToRad","dispose"],"mappings":"AAAA;;;;;;AAOAA,KAAK,CAACC,yBAAN,GAAkC,UAAWC,MAAX,EAAoB;AAEpD,MAAIC,KAAK,GAAG,IAAZ;AAEA,OAAKD,MAAL,GAAcA,MAAd;AACA,OAAKA,MAAL,CAAYE,QAAZ,CAAqBC,OAArB,CAA8B,KAA9B;AAEA,OAAKC,OAAL,GAAe,IAAf;AAEA,OAAKC,iBAAL,GAAyB,EAAzB;AACA,OAAKC,iBAAL,GAAyB,CAAzB;AAEA,OAAKC,WAAL,GAAmB,CAAnB,CAZoD,CAY9B;;AAEtB,MAAIC,8BAA8B,GAAG,UAAWC,KAAX,EAAmB;AAEtDR,IAAAA,KAAK,CAACI,iBAAN,GAA0BI,KAA1B;AAED,GAJD;;AAMA,MAAIC,8BAA8B,GAAG,YAAY;AAE/CT,IAAAA,KAAK,CAACK,iBAAN,GAA0BK,MAAM,CAACC,WAAP,IAAsB,CAAhD;AAED,GAJD,CApBoD,CA0BpD;;;AAEA,MAAIC,mBAAmB,GAAG,YAAY;AAEpC,QAAIC,GAAG,GAAG,IAAIhB,KAAK,CAACiB,OAAV,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAV;AAEA,QAAIC,KAAK,GAAG,IAAIlB,KAAK,CAACmB,KAAV,EAAZ;AAEA,QAAIC,EAAE,GAAG,IAAIpB,KAAK,CAACqB,UAAV,EAAT;AAEA,QAAIC,EAAE,GAAG,IAAItB,KAAK,CAACqB,UAAV,CAAsB,CAAEE,IAAI,CAACC,IAAL,CAAW,GAAX,CAAxB,EAA0C,CAA1C,EAA6C,CAA7C,EAAgDD,IAAI,CAACC,IAAL,CAAW,GAAX,CAAhD,CAAT,CARoC,CAQyC;;AAE7E,WAAO,UAAWC,UAAX,EAAuBC,KAAvB,EAA8BC,IAA9B,EAAoCC,KAApC,EAA2CC,MAA3C,EAAoD;AAEzDX,MAAAA,KAAK,CAACY,GAAN,CAAWH,IAAX,EAAiBD,KAAjB,EAAwB,CAAEE,KAA1B,EAAiC,KAAjC,EAFyD,CAEf;;AAE1CH,MAAAA,UAAU,CAACM,YAAX,CAAyBb,KAAzB,EAJyD,CAIvB;;AAElCO,MAAAA,UAAU,CAACO,QAAX,CAAqBV,EAArB,EANyD,CAM9B;;AAE3BG,MAAAA,UAAU,CAACO,QAAX,CAAqBZ,EAAE,CAACa,gBAAH,CAAqBjB,GAArB,EAA0B,CAAEa,MAA5B,CAArB,EARyD,CAQI;AAE9D,KAVD;AAYD,GAtByB,EAA1B;;AAwBA,OAAKK,OAAL,GAAe,YAAY;AAEzBtB,IAAAA,8BAA8B;AAE9BC,IAAAA,MAAM,CAACsB,gBAAP,CAAyB,mBAAzB,EAA8CvB,8BAA9C,EAA8E,KAA9E;AACAC,IAAAA,MAAM,CAACsB,gBAAP,CAAyB,mBAAzB,EAA8CzB,8BAA9C,EAA8E,KAA9E;AAEAP,IAAAA,KAAK,CAACG,OAAN,GAAgB,IAAhB;AAED,GATD;;AAWA,OAAK8B,UAAL,GAAkB,YAAY;AAE5BvB,IAAAA,MAAM,CAACwB,mBAAP,CAA4B,mBAA5B,EAAiDzB,8BAAjD,EAAiF,KAAjF;AACAC,IAAAA,MAAM,CAACwB,mBAAP,CAA4B,mBAA5B,EAAiD3B,8BAAjD,EAAiF,KAAjF;AAEAP,IAAAA,KAAK,CAACG,OAAN,GAAgB,KAAhB;AAED,GAPD;;AASA,OAAKgC,MAAL,GAAc,YAAY;AAExB,QAAKnC,KAAK,CAACG,OAAN,KAAkB,KAAvB,EAA+B;AAE/B,QAAIiC,MAAM,GAAGpC,KAAK,CAACI,iBAAnB;;AAEA,QAAKgC,MAAL,EAAc;AAEZ,UAAIb,KAAK,GAAGa,MAAM,CAACb,KAAP,GAAe1B,KAAK,CAACuB,IAAN,CAAWiB,QAAX,CAAqBD,MAAM,CAACb,KAA5B,IAAsCvB,KAAK,CAACM,WAA3D,GAAyE,CAArF,CAFY,CAE4E;;AAExF,UAAIkB,IAAI,GAAGY,MAAM,CAACZ,IAAP,GAAc3B,KAAK,CAACuB,IAAN,CAAWiB,QAAX,CAAqBD,MAAM,CAACZ,IAA5B,CAAd,GAAmD,CAA9D,CAJY,CAIqD;;AAEjE,UAAIC,KAAK,GAAGW,MAAM,CAACX,KAAP,GAAe5B,KAAK,CAACuB,IAAN,CAAWiB,QAAX,CAAqBD,MAAM,CAACX,KAA5B,CAAf,GAAqD,CAAjE,CANY,CAMwD;;AAEpE,UAAIC,MAAM,GAAG1B,KAAK,CAACK,iBAAN,GAA0BR,KAAK,CAACuB,IAAN,CAAWiB,QAAX,CAAqBrC,KAAK,CAACK,iBAA3B,CAA1B,GAA2E,CAAxF,CARY,CAQ+E;;AAE3FO,MAAAA,mBAAmB,CAAEZ,KAAK,CAACD,MAAN,CAAauB,UAAf,EAA2BC,KAA3B,EAAkCC,IAAlC,EAAwCC,KAAxC,EAA+CC,MAA/C,CAAnB;AAED;AAGF,GArBD;;AAuBA,OAAKY,OAAL,GAAe,YAAY;AAEzBtC,IAAAA,KAAK,CAACiC,UAAN;AAED,GAJD;;AAMA,OAAKF,OAAL;AAED,CAvGD","sourcesContent":["/**\n * @author richt / http://richt.me\n * @author WestLangley / http://github.com/WestLangley\n *\n * W3C Device Orientation control (http://w3c.github.io/deviceorientation/spec-source-orientation.html)\n */\n\nTHREE.DeviceOrientationControls = function ( object ) {\n\n  var scope = this;\n\n  this.object = object;\n  this.object.rotation.reorder( 'YXZ' );\n\n  this.enabled = true;\n\n  this.deviceOrientation = {};\n  this.screenOrientation = 0;\n\n  this.alphaOffset = 0; // radians\n\n  var onDeviceOrientationChangeEvent = function ( event ) {\n\n    scope.deviceOrientation = event;\n\n  };\n\n  var onScreenOrientationChangeEvent = function () {\n\n    scope.screenOrientation = window.orientation || 0;\n\n  };\n\n  // The angles alpha, beta and gamma form a set of intrinsic Tait-Bryan angles of type Z-X'-Y''\n\n  var setObjectQuaternion = function () {\n\n    var zee = new THREE.Vector3( 0, 0, 1 );\n\n    var euler = new THREE.Euler();\n\n    var q0 = new THREE.Quaternion();\n\n    var q1 = new THREE.Quaternion( - Math.sqrt( 0.5 ), 0, 0, Math.sqrt( 0.5 ) ); // - PI/2 around the x-axis\n\n    return function ( quaternion, alpha, beta, gamma, orient ) {\n\n      euler.set( beta, alpha, - gamma, 'YXZ' ); // 'ZXY' for the device, but 'YXZ' for us\n\n      quaternion.setFromEuler( euler ); // orient the device\n\n      quaternion.multiply( q1 ); // camera looks out the back of the device, not the top\n\n      quaternion.multiply( q0.setFromAxisAngle( zee, - orient ) ); // adjust for screen orientation\n\n    };\n\n  }();\n\n  this.connect = function () {\n \n    onScreenOrientationChangeEvent();\n\n    window.addEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n    window.addEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\n    scope.enabled = true;\n\n  };\n\n  this.disconnect = function () {\n\n    window.removeEventListener( 'orientationchange', onScreenOrientationChangeEvent, false );\n    window.removeEventListener( 'deviceorientation', onDeviceOrientationChangeEvent, false );\n\n    scope.enabled = false;\n\n  };\n\n  this.update = function () {\n\n    if ( scope.enabled === false ) return;\n\n    var device = scope.deviceOrientation;\n\n    if ( device ) {\n\n      var alpha = device.alpha ? THREE.Math.degToRad( device.alpha ) + scope.alphaOffset : 0; // Z\n\n      var beta = device.beta ? THREE.Math.degToRad( device.beta ) : 0; // X'\n\n      var gamma = device.gamma ? THREE.Math.degToRad( device.gamma ) : 0; // Y''\n\n      var orient = scope.screenOrientation ? THREE.Math.degToRad( scope.screenOrientation ) : 0; // O\n\n      setObjectQuaternion( scope.object.quaternion, alpha, beta, gamma, orient );\n\n    }\n\n\n  };\n\n  this.dispose = function () {\n\n    scope.disconnect();\n\n  };\n\n  this.connect();\n\n};\n"]},"metadata":{},"sourceType":"script"}